<?
//Russia
$GLOBALS['sumstr_ru']['_1_2'][1]="одна ";
$GLOBALS['sumstr_ru']['_1_2'][2]="две ";

$GLOBALS['sumstr_ru']['_1_19'][1]="один ";
$GLOBALS['sumstr_ru']['_1_19'][2]="два ";
$GLOBALS['sumstr_ru']['_1_19'][3]="три ";
$GLOBALS['sumstr_ru']['_1_19'][4]="четыре ";
$GLOBALS['sumstr_ru']['_1_19'][5]="пять ";
$GLOBALS['sumstr_ru']['_1_19'][6]="шесть ";
$GLOBALS['sumstr_ru']['_1_19'][7]="семь ";
$GLOBALS['sumstr_ru']['_1_19'][8]="восемь ";
$GLOBALS['sumstr_ru']['_1_19'][9]="девять ";
$GLOBALS['sumstr_ru']['_1_19'][10]="десять ";

$GLOBALS['sumstr_ru']['_1_19'][11]="одиннацать ";
$GLOBALS['sumstr_ru']['_1_19'][12]="двенадцать ";
$GLOBALS['sumstr_ru']['_1_19'][13]="тринадцать ";
$GLOBALS['sumstr_ru']['_1_19'][14]="четырнадцать ";
$GLOBALS['sumstr_ru']['_1_19'][15]="пятнадцать ";
$GLOBALS['sumstr_ru']['_1_19'][16]="шестнадцать ";
$GLOBALS['sumstr_ru']['_1_19'][17]="семнадцать ";
$GLOBALS['sumstr_ru']['_1_19'][18]="восемнадцать ";
$GLOBALS['sumstr_ru']['_1_19'][19]="девятнадцать ";

$GLOBALS['sumstr_ru']['des'][2]="двадцать ";
$GLOBALS['sumstr_ru']['des'][3]="тридцать ";
$GLOBALS['sumstr_ru']['des'][4]="сорок ";
$GLOBALS['sumstr_ru']['des'][5]="пятьдесят ";
$GLOBALS['sumstr_ru']['des'][6]="шестьдесят ";
$GLOBALS['sumstr_ru']['des'][7]="семьдесят ";
$GLOBALS['sumstr_ru']['des'][8]="восемьдесят ";
$GLOBALS['sumstr_ru']['des'][9]="девяносто ";

$GLOBALS['sumstr_ru']['hang'][1]="сто ";
$GLOBALS['sumstr_ru']['hang'][2]="двести ";
$GLOBALS['sumstr_ru']['hang'][3]="триста ";
$GLOBALS['sumstr_ru']['hang'][4]="четыреста ";
$GLOBALS['sumstr_ru']['hang'][5]="пятьсот ";
$GLOBALS['sumstr_ru']['hang'][6]="шестьсот ";
$GLOBALS['sumstr_ru']['hang'][7]="семьсот ";
$GLOBALS['sumstr_ru']['hang'][8]="восемьсот ";
$GLOBALS['sumstr_ru']['hang'][9]="девятьсот ";

$GLOBALS['sumstr_ru']['namerub'][1]="рубль ";
$GLOBALS['sumstr_ru']['namerub'][2]="рубля ";
$GLOBALS['sumstr_ru']['namerub'][3]="рублей ";

$GLOBALS['sumstr_ru']['nametho'][1]="тысяча ";
$GLOBALS['sumstr_ru']['nametho'][2]="тысячи ";
$GLOBALS['sumstr_ru']['nametho'][3]="тысяч ";

$GLOBALS['sumstr_ru']['namemil'][1]="миллион ";
$GLOBALS['sumstr_ru']['namemil'][2]="миллиона ";
$GLOBALS['sumstr_ru']['namemil'][3]="миллионов ";

$GLOBALS['sumstr_ru']['namemrd'][1]="миллиард ";
$GLOBALS['sumstr_ru']['namemrd'][2]="миллиарда ";
$GLOBALS['sumstr_ru']['namemrd'][3]="миллиардов ";

$GLOBALS['sumstr_ru']['kopeek'][1]="копейка ";
$GLOBALS['sumstr_ru']['kopeek'][2]="копейки ";
$GLOBALS['sumstr_ru']['kopeek'][3]="копеек ";


//Ukraine
$GLOBALS['sumstr_ua']['_1_2'][1] = "одна ";
$GLOBALS['sumstr_ua']['_1_2'][2] = "дві ";

$GLOBALS['sumstr_ua']['_1_19'][1] = "один ";
$GLOBALS['sumstr_ua']['_1_19'][2] = "два ";
$GLOBALS['sumstr_ua']['_1_19'][3] = "три ";
$GLOBALS['sumstr_ua']['_1_19'][4] = "чотири ";
$GLOBALS['sumstr_ua']['_1_19'][5] = "п'ять ";
$GLOBALS['sumstr_ua']['_1_19'][6] = "шість ";
$GLOBALS['sumstr_ua']['_1_19'][7] = "сім ";
$GLOBALS['sumstr_ua']['_1_19'][8] = "вісім ";
$GLOBALS['sumstr_ua']['_1_19'][9] = "дев'ять ";
$GLOBALS['sumstr_ua']['_1_19'][10] = "десять ";

$GLOBALS['sumstr_ua']['_1_19'][11] = "одинадцять ";
$GLOBALS['sumstr_ua']['_1_19'][12] = "дванадцять ";
$GLOBALS['sumstr_ua']['_1_19'][13] = "тринадцять ";
$GLOBALS['sumstr_ua']['_1_19'][14] = "чотирнадцять ";
$GLOBALS['sumstr_ua']['_1_19'][15] = "п'ятнадцять ";
$GLOBALS['sumstr_ua']['_1_19'][16] = "шістнадцять ";
$GLOBALS['sumstr_ua']['_1_19'][17] = "сімнадцять ";
$GLOBALS['sumstr_ua']['_1_19'][18] = "вісімнадцять ";
$GLOBALS['sumstr_ua']['_1_19'][19] = "дев'ятнадцять ";

$GLOBALS['sumstr_ua']['des'][2] = "двадцять ";
$GLOBALS['sumstr_ua']['des'][3] = "тридцять ";
$GLOBALS['sumstr_ua']['des'][4] = "сорок ";
$GLOBALS['sumstr_ua']['des'][5] = "п'ятдесят ";
$GLOBALS['sumstr_ua']['des'][6] = "шістдесят ";
$GLOBALS['sumstr_ua']['des'][7] = "сімдесят ";
$GLOBALS['sumstr_ua']['des'][8] = "вісімдесят ";
$GLOBALS['sumstr_ua']['des'][9] = "дев'яносто ";

$GLOBALS['sumstr_ua']['hang'][1]="сто ";
$GLOBALS['sumstr_ua']['hang'][2]="двісті ";
$GLOBALS['sumstr_ua']['hang'][3]="триста ";
$GLOBALS['sumstr_ua']['hang'][4]="чотириста ";
$GLOBALS['sumstr_ua']['hang'][5]="п'ятсот ";
$GLOBALS['sumstr_ua']['hang'][6]="шістсот ";
$GLOBALS['sumstr_ua']['hang'][7]="сімсот ";
$GLOBALS['sumstr_ua']['hang'][8]="вісімсот ";
$GLOBALS['sumstr_ua']['hang'][9]="дев'ятсот ";

$GLOBALS['sumstr_ua']['namerub'][1]="грн. ";
$GLOBALS['sumstr_ua']['namerub'][2]="грн. ";
$GLOBALS['sumstr_ua']['namerub'][3]="грн. ";

$GLOBALS['sumstr_ua']['nametho'][1]="тисяча ";
$GLOBALS['sumstr_ua']['nametho'][2]="тисячі ";
$GLOBALS['sumstr_ua']['nametho'][3]="тисяч ";

$GLOBALS['sumstr_ua']['namemil'][1]="мільйон ";
$GLOBALS['sumstr_ua']['namemil'][2]="мільйона ";
$GLOBALS['sumstr_ua']['namemil'][3]="мільйонів ";

$GLOBALS['sumstr_ua']['namemrd'][1]="мільярд ";
$GLOBALS['sumstr_ua']['namemrd'][2]="мільярда ";
$GLOBALS['sumstr_ua']['namemrd'][3]="мільярдів ";

$GLOBALS['sumstr_ua']['kopeek'][1]="коп. ";
$GLOBALS['sumstr_ua']['kopeek'][2]="коп. ";
$GLOBALS['sumstr_ua']['kopeek'][3]="коп. ";

function _sumstr_semantic($i,&$words,&$fem,$f,$default_lang){
	$_1_2 = $GLOBALS['sumstr_'.$default_lang]['_1_2'];
	$_1_19 = $GLOBALS['sumstr_'.$default_lang]['_1_19'];
	$des = $GLOBALS['sumstr_'.$default_lang]['des'];
	$hang = $GLOBALS['sumstr_'.$default_lang]['hang'];
	$namerub = $GLOBALS['sumstr_'.$default_lang]['namerub'];
	$nametho = $GLOBALS['sumstr_'.$default_lang]['nametho'];
	$namemil = $GLOBALS['sumstr_'.$default_lang]['namemil'];
	$namemrd = $GLOBALS['sumstr_'.$default_lang]['namemrd'];
	$kopeek = $GLOBALS['sumstr_'.$default_lang]['kopeek'];

	$words="";
	$fl=0;
	if($i >= 100){
		$jkl = intval($i / 100);
		$words.=$hang[$jkl];
		$i%=100;
	}
	if($i >= 20){
		$jkl = intval($i / 10);
		$words.=$des[$jkl];
		$i%=10;
		$fl=1;
	}
	switch($i){
		case 1: $fem=1; break;
		case 2:
		case 3:
		case 4: $fem=2; break;
		default: $fem=3; break;
	}
	if( $i ){
		if( $i < 3 && $f > 0 ){
			if ( $f >= 2 ) {
				$words.=$_1_19[$i];
			}
			else {
				$words.=$_1_2[$i];
			}
		}
		else {
			$words.=$_1_19[$i];
		}
	}
}

function _my_mb_ucfirst($str, $e='utf-8') {
    $fc = mb_strtoupper(mb_substr($str, 0, 1, $e), $e);
    return $fc.mb_substr($str, 1, mb_strlen($str, $e), $e);
}

function sumtostr($L, $default_lang = 'ru') {
	$_1_2 = $GLOBALS['sumstr_'.$default_lang]['_1_2'];
	$_1_19 = $GLOBALS['sumstr_'.$default_lang]['_1_19'];
	$des = $GLOBALS['sumstr_'.$default_lang]['des'];
	$hang = $GLOBALS['sumstr_'.$default_lang]['hang'];
	$namerub = $GLOBALS['sumstr_'.$default_lang]['namerub'];
	$nametho = $GLOBALS['sumstr_'.$default_lang]['nametho'];
	$namemil = $GLOBALS['sumstr_'.$default_lang]['namemil'];
	$namemrd = $GLOBALS['sumstr_'.$default_lang]['namemrd'];
	$kopeek = $GLOBALS['sumstr_'.$default_lang]['kopeek'];

	$s=" ";
	$s1=" ";
	$s2=" ";
	$kop=intval( ( $L*100 - intval( $L )*100 ));
	$L=intval($L);
	if($L>=1000000000){
		$many=0;
		_sumstr_semantic(intval($L / 1000000000),$s1,$many,3, $default_lang);
		$s.=$s1.$namemrd[$many];
		$L%=1000000000;
	}

	if($L >= 1000000){
		$many=0;
		_sumstr_semantic(intval($L / 1000000),$s1,$many,2,$default_lang);
		$s.=$s1.$namemil[$many];
		$L%=1000000;
		if($L==0){
			$s.=$namerub[1];
		}
	}

	if($L >= 1000){
		$many=0;
		_sumstr_semantic(intval($L / 1000),$s1,$many,1,$default_lang);
		$s.=$s1.$nametho[$many];
		$L%=1000;
		if($L==0){
			$s.=$namerub[3];
		}
	}

	if($L != 0){
		$many=0;
		_sumstr_semantic($L,$s1,$many,1,$default_lang);
		$s.=$s1.$namerub[$many];
	}

	if($kop > 0){
		$many=0;
		//_sumstr_semantic($kop,$s1,$many,1,$default_lang);
		//$s.=$s1.$kopeek[$many];
		$s.=$kop.' '.$kopeek[3];
	}
	else {
		$s.=" 00 ".$kopeek[3];
	}

	return _my_mb_ucfirst(trim($s));
}

?>